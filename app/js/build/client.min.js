var app=angular.module("app",["ngSanitize","ngResource","ui.router","app.config","app.constants","app.user-list","xeditable"]).config(["$urlRouterProvider","$stateProvider",function(a,b){a.otherwise("/users"),b.state("app",{"abstract":!0,template:"<ui-view/>"})}]).run(["editableOptions",function(a){a.theme="bs3"}]);angular.module("app.config",[]).constant("ENV",{name:"local",apiEndpoint:"http://localhost:9999/api/v1",enableDebug:!0}),angular.module("app.directives",[]),angular.module("app.filters",[]),angular.module("app.constants",["ngResource"]),angular.module("app.restServices",["ngResource"]).factory("Users",["$resource","ENV",function(a,b){return a(b.apiEndpoint+"/users/:id",null,{update:{method:"PUT"}})}]),angular.module("app.services",[]),angular.module("app.user-list",[]).config(["$stateProvider",function(a){a.state("users",{url:"/users",templateUrl:"components/user/user-list.html",controller:"userListCtrl"})}]).controller("userListCtrl",["$scope",function(a){a.users=[{id:1,name:"awesome user1",status:2,group:4,groupName:"admin"},{id:2,name:"awesome user2",status:void 0,group:3,groupName:"vip"},{id:3,name:"awesome user3",status:2,group:null}],a.statuses=[{value:1,text:"status1"},{value:2,text:"status2"},{value:3,text:"status3"},{value:4,text:"status4"}],a.groups=[],a.loadGroups=function(){return a.groups.length?null:$http.get("/groups").success(function(b){a.groups=b})},a.showGroup=function(b){if(b.group&&a.groups.length){var c=$filter("filter")(a.groups,{id:b.group});return c.length?c[0].text:"Not set"}return b.groupName||"Not set"},a.showStatus=function(b){var c=[];return b.status&&(c=$filter("filter")(a.statuses,{value:b.status})),c.length?c[0].text:"Not set"},a.checkName=function(a,b){return 2===b&&"awesome"!==a?"Username 2 should be `awesome`":void 0},a.saveUser=function(a,b){return angular.extend(a,{id:b}),$http.post("/saveUser",a)},a.removeUser=function(b){a.users.splice(b,1)},a.addUser=function(){a.inserted={id:a.users.length+1,name:"",status:null,group:null},a.users.push(a.inserted)}}]);